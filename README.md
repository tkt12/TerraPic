# TerraPic

<div align="center">

**位置情報ベースの写真共有SNSアプリケーション**

地図上で撮影スポットを発見し、写真を共有し、ランキングで人気の場所を見つけよう

---

**個人開発プロジェクト**

</div>

---

## 目次

- [概要](#概要)
- [主な機能](#主な機能)
- [技術スタック](#技術スタック)
- [アーキテクチャ](#アーキテクチャ)
- [技術的特徴](#技術的特徴)

---

## 概要

TerraPicは、位置情報を活用した写真共有SNSアプリケーションです。ユーザーは地図上で撮影スポットを発見し、その場所で撮影した写真を投稿・共有できます。PostGISを活用した高度な地理空間クエリにより、近くの撮影スポットの検索や、ズームレベルに応じた詳細な写真位置の表示が可能です。

> **Note**: このプロジェクトは個人開発プロジェクトです。セットアップには外部APIキーなど追加の設定が必要です。

---

## 主な機能

### 📱 ユーザー機能
- メールアドレスベースのユーザー登録・ログイン（JWT認証）
- プロフィール管理とユーザー統計
- フォロー・フォロワーシステム

### 🗺️ 地図・場所機能
- Google Maps統合によるインタラクティブマップ
- **動的マーカー表示**: ズームレベルに応じて場所マーカーと詳細な写真スポットマーカーを自動切り替え
- PostGISによる高速な地理空間検索
- お気に入り場所の管理

### 📸 投稿機能
- 写真アップロードと位置情報の記録
- 場所の評価、天気・季節情報の記録
- いいね・コメント機能
- 場所・ユーザー・投稿の統合検索

### 🏆 ランキング機能
- 人気の場所ランキング（お気に入り数ベース）
- 人気投稿ランキング（いいね数ベース）

---

## 技術スタック

### Backend
- **Python 3.9+** / **Django 4.2** / **Django REST Framework**
- **PostgreSQL 14** + **PostGIS** (地理空間データベース)
- **SimpleJWT** (JWT認証)
- **Docker** & **Docker Compose**

### Frontend
- **Flutter 3.4+** / **Dart 3.4.1+**
- **Google Maps Flutter** (マップ統合)
- **Provider** (状態管理)
- **Geolocator** & **Location** (位置情報取得)

---

## アーキテクチャ

### システムアーキテクチャ

```
┌─────────────────┐
│  Flutter App    │  ← モバイルクライアント (iOS/Android)
│  (Frontend)     │
└────────┬────────┘
         │ HTTP/REST API
         │ JWT Authentication
         ↓
┌─────────────────┐
│  Django REST    │  ← APIサーバー
│  Framework      │
└────────┬────────┘
         │ ORM
         ↓
┌─────────────────┐
│  PostgreSQL +   │  ← 地理空間データベース
│  PostGIS        │
└─────────────────┘
```

### 設計パターン

**Backend**
- サービス層パターン: ビジネスロジックを分離
- PostGIS `PointField`による地理空間クエリ
- JWT認証によるステートレスな認証

**Frontend**
- Providerパターンによる状態管理
- 機能ベースアーキテクチャ
- サービス層によるAPI通信の抽象化

---

## 技術的特徴

### PostGISによる高度な地理空間検索

PostGISの`PointField`と地理空間インデックスを活用し、高速な位置情報クエリを実現:
- バウンディングボックスクエリによる効率的な近隣検索
- 距離計算とソート
- ズームレベルに応じた動的なマーカー表示の最適化

### JWT認証とセキュリティ

SimpleJWTによるステートレスな認証システム:
- アクセストークン (60分) とリフレッシュトークン (1日) の二段階管理
- Django標準のパスワードハッシュ化
- 論理削除によるデータの保護

### スケーラブルなアーキテクチャ

- サービス層パターンによるビジネスロジックの分離
- Docker Composeによるコンテナ化
- REST APIによるフロントエンドとバックエンドの疎結合

### Flutter機能ベースアーキテクチャ

- Providerパターンによる効率的な状態管理
- 各機能を独立したモジュールとして管理
- 再利用可能なコンポーネントとサービス層

---

## ライセンス

このプロジェクトは個人開発プロジェクトです。

---

## 開発者

個人開発プロジェクト

---

## 謝辞

- Google Maps Platform
- Django & Django REST Framework コミュニティ
- Flutter コミュニティ
- PostGIS プロジェクト